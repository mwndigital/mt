import{c as v,j as e,r as s,C as p}from"./Calendar-3f19f2bd.js";import"./_commonjsHelpers-de833af9.js";function f(){const i=new URLSearchParams(window.location.search).get("type")||"room",[t,o]=s.useState(i),[l,r]=s.useState(0),[n,d]=s.useState(1),[c,m]=s.useState([]),[u,h]=s.useState(!0),x=a=>o(a.target.value),j=async()=>fetch(`/api/available?type=${t}&adults=${n}&children=${l}`).then(a=>a.json());return s.useEffect(()=>{j().then(a=>{a.error||(m(a.unavailable_dates),h(a.success),a.success||alert(`No availability for adults or children.
Calendar disabled.`))})},[t,n,l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(p,{roomType:t,minimumNights:t==="room"?1:2,unavailableDates:c,fullAvailability:u})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"",children:"Type"}),e.jsxs("select",{name:"type",id:"type",onChange:x,children:[e.jsx("option",{value:"room",selected:t==="room",children:"Room"}),e.jsx("option",{value:"lodge",selected:t==="lodge",children:"Lodge"})]}),t==="lodge"&&e.jsx("em",{children:"Minimum stay of 2 nights required."})]}),e.jsxs("div",{className:"col-md-4 d-none",children:[e.jsx("label",{htmlFor:"",children:"Arrival Time"}),e.jsx("input",{type:"text",name:"arrival_time",id:"arrival_time",value:"14:00"})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"",children:"Number of adults"}),e.jsx("input",{min:"1",type:"number",name:"no_of_adults",id:"no_of_adults",value:n,onChange:a=>d(a.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"",children:"Number of children"}),e.jsx("input",{type:"number",name:"no_of_children",id:"no_of_children",value:l,onChange:a=>r(a.target.value)})]})]}),e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12 d-flex justify-content-end",children:e.jsxs("button",{type:"submit",className:"nextBtn",children:["Next ",e.jsx("i",{className:"fas fa-chevron-right"})]})})}),e.jsx("input",{type:"hidden",name:"checkin_date",id:"checkin_date"}),e.jsx("input",{type:"hidden",name:"checkout_date",id:"checkout_date"})]})}document.getElementById("booking-form")&&v(document.getElementById("booking-form")).render(e.jsx(f,{}));

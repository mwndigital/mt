import{c as x,j as e,r as s,C as j}from"./Calendar-06690e82.js";import"./_commonjsHelpers-de833af9.js";function p(){const o=new URLSearchParams(window.location.search).get("type")||"room",[a,i]=s.useState(o),[n,r]=s.useState(0),[l,d]=s.useState(1),[c,m]=s.useState([]),h=t=>i(t.target.value),u=async()=>fetch(`/api/available?type=${a}`).then(t=>t.json());return s.useEffect(()=>{u().then(t=>{t.error||m(t.unavailable_dates)})},[a,l,n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsx(j,{roomType:a,minimumNights:a==="room"?1:2,unavailableDates:c})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"",children:"Type"}),e.jsxs("select",{name:"type",id:"type",onChange:h,children:[e.jsx("option",{value:"room",selected:a==="room",children:"Room"}),e.jsx("option",{value:"lodge",selected:a==="lodge",children:"Lodge"})]}),a==="lodge"&&e.jsx("em",{children:"Minimum stay of 2 nights required."})]}),e.jsxs("div",{className:"col-md-4 d-none",children:[e.jsx("label",{htmlFor:"",children:"Arrival Time"}),e.jsx("input",{type:"text",name:"arrival_time",id:"arrival_time",value:"14:00"})]})]}),e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"",children:"Number of adults"}),e.jsx("input",{min:"1",type:"number",name:"no_of_adults",id:"no_of_adults",value:l,onChange:t=>d(t.target.value)})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{htmlFor:"",children:"Number of children"}),e.jsx("input",{type:"number",name:"no_of_children",id:"no_of_children",value:n,onChange:t=>r(t.target.value)})]})]}),e.jsx("div",{className:"row mt-4",children:e.jsx("div",{className:"col-12 d-flex justify-content-end",children:e.jsxs("button",{type:"submit",className:"nextBtn",children:["Next ",e.jsx("i",{className:"fas fa-chevron-right"})]})})}),e.jsx("input",{type:"hidden",name:"checkin_date",id:"checkin_date"}),e.jsx("input",{type:"hidden",name:"checkout_date",id:"checkout_date"})]})}document.getElementById("booking-form")&&x(document.getElementById("booking-form")).render(e.jsx(p,{}));
